<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1114綜合練習</title>
    <link rel="stylesheet" href="CSS/bootstrap.min.css">
    <link rel="stylesheet" href="CSS/color chatgpt 1.css">
    <link rel="stylesheet" href="CSS/mycss.css">
</head>

<body>
    <div class="container">
        <div class="row justify-content-center align-items-center vh-100">
            <div class="col-6 mt-5">
                <div class="card">
                    <div class="card-body h3 fw-700 text-bg-success">產品建檔</div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="" class="form-label">產品名稱</label>
                            <input type="text" class="form-control is-invalid" list="datalist"
                                placeholder="產品名稱字數2~20個字" id="p_name">
                            <datalist id="datalist">
                                <option value="法國柏蘭地1892年釀造珍稀紅酒"></option>
                                <option value="希臘頂級冷炸橄欖油"></option>
                                <option value="澳洲雪莉桶珍藏30年蘇格蘭威士忌"></option>
                            </datalist>
                            <div class="valid-feedback">產品名稱符合規定!</div>
                            <div class="invalid-feedback">產品名稱不符合規定!</div>
                        </div>

                        <div class="mb-3">
                            <label for="" class="form-label h4">價格(十萬元)<span class="h2 fw-700" id="p_price01">萬元
                                </span></label>
                            <input type="range" class="form-range" name="" id="p_price" min="1" max="100" value="1">
                        </div>

                        <div class="mb-3">
                            <label for="" class="form-label">產品數量</label>
                            <input type="number" min="1" max="100" value="5" class="form-control is-invalid"
                                id="p_amount">
                            <div class="valid-feedback">產品數量符合規定!</div>
                            <div class="invalid-feedback">產品數量不符合規定!</div>
                        </div>

                        <div class="mb-3">
                            <select name="" class="form-select form-select-lg is-invalid" id="p_package">
                                <option value="" selected disabled>---包裝尺寸---</option>
                                <option value="標準">標準</option>
                                <option value="初等">初等</option>
                                <option value="高等">高等</option>
                                <option value="精緻">精緻</option>
                            </select>
                            <div class="valid-feedback">已選擇包裝尺寸!</div>
                            <div class="invalid-feedback">未選擇包裝尺寸!</div>
                        </div>

                        <div class="mb-3">
                            <div class="h3">配送方式</div>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" value="貨運公司" name="chk01">
                                <label for="" class="form-check-label">貨運公司</label>
                            </div>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" value="超商取貨" name="chk01">
                                <label for="" class="form-check-label">超商取貨</label>
                            </div>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" value="郵局寄送" name="chk01">
                                <label for="" class="form-check-label">郵局寄送</label>
                            </div>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" value="安全專人配送" name="chk01">
                                <label for="" class="form-check-label">安全專人配送</label>
                            </div>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" value="加急專人配送" name="chk01">
                                <label for="" class="form-check-label">加急專人配送</label>
                            </div>
                            <!-- <div class="form-check">
                                <input type="radio" name="radio01" class="form-check-label" value="貨運公司">
                                <label for="" class="form-check-label">貨運公司</label>
                            </div>
                            <div class="form-check">
                                <input type="radio" name="radio01" class="form-check-label" value="超商取貨">
                                <label for="" class="form-check-label">超商取貨</label>
                            </div>
                            <div class="form-check">
                                <input type="radio" name="radio01" class="form-check-label" value="郵局寄送">
                                <label for="" class="form-check-label">郵局寄送</label>
                            </div>
                            <div class="form-check">
                                <input type="radio" name="radio01" class="form-check-label" value="安全專人配送">
                                <label for="" class="form-check-label">安全專人配送</label>
                            </div>
                            <div class="form-check">
                                <input type="radio" name="radio01" class="form-check-label" value="加急專人配送">
                                <label for="" class="form-check-label">加急專人配送</label>
                            </div> -->
                        </div>

                        <div class="mb-3" id="p_radio01">
                            <div class="h4">付款方式</div>
                            <div class="form-check form-check-inline">
                                <input type="radio" name="radio01" class="form-check-input" value="現金">
                                <label for="" class="form-check-label">現金</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input type="radio" name="radio01" class="form-check-input" value="信用卡">
                                <label for="" class="form-check-label">信用卡</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input type="radio" name="radio01" class="form-check-input" value="郵局轉帳">
                                <label for="" class="form-check-label">郵局轉帳</label>
                            </div>
                            <div class="form-check">
                                <input type="radio" name="radio01" class="form-check-input" value="網路銀行轉帳">
                                <label for="" class="form-check-label">網路銀行轉帳</label>
                            </div>
                            <div class="form-check">
                                <input type="radio" name="radio01" class="form-check-input" value="貨到付款">
                                <label for="" class="form-check-label">貨到付款</label>
                            </div>
                        </div>

                        <div class="mb-3">
                            <div class="form-check form-switch">
                                <div class="h4">產品狀態</div>
                                <input type="checkbox" name="" id="switch01" class="form-check-input">
                                <label for="" class="form-check-label"><span id="switch-text">下架</span></label>
                            </div>
                        </div>

                        <div class="row justify-content-around mb-3">
                            <button class="col-3 btn btn-primary" id="ok_btn">下單</button>
                            <button class="col-3 btn btn-danger">取消</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 顯示資料區 -->
        <div class="row justify-content-center mt-5">
            <div class="col-md-6">
                <div class="card mb-5">
                    <div class="card-header h3 fw-700 text-bg-success">產品建檔顯示資料區</div>
                    <div class="card-body" id="my_card_body">
                        <div class="h3 fw-700">
                            <span class="h4 text-center">產品名稱:</span>
                            <span id="show_name">X</span>
                        </div>
                        <div class="h3 fw-700">
                            <span class="h4 text-center">產品數量:</span>
                            <span id="show_amount">X</span>
                        </div>
                        <div class="h3 fw-700">
                            <span class="h4 text-center">產品包裝:</span>
                            <span id="show_package">X</span>
                        </div>
                        <div class="h3 fw-700">
                            <span class="h4 text-center">運送方式:</span>
                            <span id="show_chk01">X</span>
                        </div>
                        <div class="h3 fw-700">
                            <span class="h4 text-center"></span>
                            <span id="show_radio01">X</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/jquery-3.7.1.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        let flag_p_name = false;
        let flag_p_amount = false;
        let flag_p_package = false;
        let switch01 = '下架';

        $(function () {
            //監聽#p_name
            $("#p_name").on("input", function () {
                // console.log($(this).val().length < 20);
                if ($(this).val().length > 1 && $(this).val().length < 20) {
                    //符合規定
                    $(this).removeClass("is-invalid");
                    $(this).addClass("is-valid");
                    flag_p_name = true;
                } else {
                    //不符合規定
                    $(this).removeClass("is-valid");
                    $(this).addClass("is-invalid");
                    flag_p_name = false;
                }
            });

            //監聽p_amount
            $("#p_amount").on("input", function () {
                // console.log($(this).val());
                if ($(this).val() > 0 && $(this).val() <= 100) {
                    //符合規定
                    $(this).removeClass("is-invalid");
                    $(this).addClass("is-valid");
                    flag_p_amount = true;
                } else {
                    //不符合規定
                    $(this).removeClass("is-valid");
                    $(this).addClass("is-invalid");
                    flag_p_amount = false;
                }
            });

            //監聽p_price
            $("#p_price").on("input", function () {
                console.log($(this).val());
                $("#p_price01").text($(this).val() + '萬元');
            });

            //監聽p_package
            $("#p_package").on("change", function () {
                console.log($(this).val());
                //符合規定
                $(this).removeClass("is-invalid");
                $(this).addClass("is-valid");
                flag_p_package = true;
            });

            //監聽switch01
            $("#switch01").on("change", function () {
                console.log($(this).is(':checked'));
                if ($(this).is(':checked')) {
                    //上架
                    $(this).next().text('上架');
                    switch01 = '上架';
                } else {
                    //下架
                    $(this).next().text('下架');
                    switch01 = '下架';
                }

            });

            //監聽按鈕 #ok_btn
            $("#ok_btn").on("click", function () {
                //console.log($(this).val());
                if (flag_p_name && flag_p_amount && flag_p_package) {
                    console.log($("#p_name").val());
                    console.log($("#p_amount").val());

                    // 收集配送方式
                    let chk01 = [];
                    $.each($("input[name='chk01']:checked"), function () {
                        chk01.push($(this).val());
                    });

                    // 付款方式
                    let radio01 = [];
                    $("input[name='radio01']:checked").each(function () {
                        radio01.push($(this).val());
                    });

                    // // 老師版
                    // 讀取資料
                    let p_name = $("#p_name").val();
                    let p_amount = $("#p_amount").val();
                    let p_package = $("#p_package").val();
                    let p_chk01 = chk01.join('/');
                    let p_radio01 = radio01;
                    let p_price = $("#p_price").val() + '萬元';

                    // 組 HTML
                    $("#my_card_body").empty();
                    let strHTML =
                        `<div class="h3 fw-700">
                            <span class="h4 text-center">產品名稱:</span>
                            <span>${p_name}</span>
                        </div>
                        <div class="h3 fw-700">
                            <span class="h4 text-center">產品數量:</span>
                            <span>${p_amount}</span>
                        </div>
                        <div class="h3 fw-700">
                            <span class="h4 text-center">產品包裝:</span>
                            <span>${p_package}</span>
                        </div>
                    <div class="h3 fw-700">
                            <span class="h4 text-center">配送方式:</span>
                             <span>${p_chk01}</span>
                        </div>
                    <div class="h3 fw-700">
                            <span class="h4 text-center">付款方式:</span>
                            <span>${p_radio01}</span>
                        </div>
                        <div class="h3 fw-700">
                            <span class="h4 text-center">產品狀態:</span>
                            <span>${switch01}</span>
                        </div>
                        <div class="h3 fw-700">
                            <span class="h4 text-center">產品價格:</span>
                            <span>${p_price}</span>
                        </div>`;
                    $("#my_card_body").html(strHTML);

                    // // 放到 card-body 裡，而不是 #my_card_body（因為它是 header）
                    // $(".card-body").eq(1).html(strHTML);


                    // // 讀取資料
                    // let name = $("#p_name").val();
                    // let amount = $("#p_amount").val();
                    // let pkg = $("#p_package").val();
                    // let chk = $("#chk01").val();
                    // let p1 = $('#radio01').val;

                    // // 輸出資料
                    // $("#show_name").text(name);
                    // $("#show_amount").text(amount);
                    // $("#show_package").text(pkg);
                    // $("#show_chk01").text(chk01.join('/'));
                    // $("#show_radio01").text(p1);

                } else {
                    // alert("有欄位錯誤，請更正!")
                    Swal.fire({
                        title: "錯誤",
                        text: "欄位有誤，請更正!",
                        icon: "error"
                    });
                }
            });


        });
    </script>
</body>

</html>